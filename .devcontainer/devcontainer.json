{
  "name": "ESP-IDF v5.5 (Fixed Locale v2)",
  "image": "espressif/idf:v5.5",
  "customizations": {
    "vscode": {
      "extensions": [
        "espressif.esp-idf",
        "ms-vscode.cpptools",
        "ms-vscode.cpptools-extension-pack",
        "ms-vscode.cmake-tools",
        "ms-python.python"
      ]
    }
  },

  // === PHẦN SỬA LỖI ===
  // Đổi từ "en_US.UTF-8" (bị thiếu) sang "C.UTF-8" (luôn có sẵn)
  "postCreateCommand": "echo 'export LANG=C.UTF-8' >> ~/.bashrc && echo 'export LC_ALL=C.UTF-8' >> ~/.bashrc && echo 'source /opt/esp/idf/export.sh' >> ~/.bashrc && echo 'Codespace is ready!' && sleep infinity"
}
